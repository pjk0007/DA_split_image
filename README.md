# 🖼️ 상세페이지 자동 섹션 분할기

이 프로젝트는 긴 상세페이지 이미지를 자동으로 시각적 "섹션" 단위로 분할하는 도구입니다.  
현재는 **색상 기반 분할 방식**이 구현되어 있으며, 향후 **오브젝트 기반 분할**, **레이아웃 기반 분석** 등이 추가될 예정입니다.

---

## 📌 기능 개요

- 🎨 **색상 기반 섹션 분할**  
  이미지의 수직 방향 색상 변화를 기반으로 의미 있는 시각적 구간을 자동 추출합니다.

- 🖼️ **모든 섹션 시각화**  
  분할된 섹션들을 한눈에 확인할 수 있도록 grid 형태로 시각화합니다.

---

## 🛠️ 설치

```bash
# 필수 라이브러리 설치
pip install -r requirements.txt
```

---

## 🚀 실행 방법

```bash
python app.py
```

### 🔧 이미지 파일 변경
`app.py` 내 `image_path` 값을 원하는 이미지로 바꿔주세요.

```python
image_path = '상페-딱딱이복숭아.png'
```

---

## 📁 프로젝트 구조

```
.
├── app.py                     # 메인 실행 스크립트
├── split_by_color.py         # 색상 기반 섹션 분할 함수
├── show_all_sections.py      # 섹션 시각화 유틸
├── README.md                 # 프로젝트 설명 문서
└── 상페-딱딱이복숭아.png       # 예제 이미지 (사용자 제공)
```

---

## 🔍 구현된 분할 방법

### ✅ 색상 기반 분할 (`split_by_color`)
- 수직으로 이미지의 각 행을 훑으며, 색상 변화가 threshold 이상일 때 섹션으로 분할
- `window` 크기만큼 위아래 평균 색을 비교해 노이즈 방지
- `min_section_height`로 과도한 분할 방지

### 🚧 예정: 오브젝트 기반 분할 (`split_by_object`)
- 이미지 내 구성 요소 (텍스트 블록, 일러스트 등)를 분석해 의미 단위로 분할
- 추후 Vision Transformer 기반 구조 감지 모델 연동 예정

---

## 🧪 개발 히스토리 요약

| 시도 방법            | 결과 및 한계 |
|----------------------|--------------|
| 색상 변화 기반 분할   | 빠르고 단순함. 하지만 일러스트 포함 시 색상만으로는 의미 구분이 어려움 |
| 오브젝트 기반 분할   | 미구현. |
| OCR/레이아웃 기반 분석 | 미구현. |

---

## 📌 TODO

- [ ] 오브젝트 기반 분할 모듈 추가
- [ ] OCR 기반 텍스트 밀도 분석
- [ ] CLIP or Donut 기반 의미 구간 분리
- [ ] 섹션별 OCR + 유사도 비교 기능 추가
- [ ] 웹 인터페이스 (Streamlit or Gradio) 구축

---

## 📃 라이선스

MIT License  
이미지 및 샘플 데이터는 사용자 본인이 제공한 자료를 기준으로 사용됩니다.

---

## 🙋‍♂️ 제작자

- 개발 및 기획: pjk0007
- 문의: jake.ppjk@gmail.com
